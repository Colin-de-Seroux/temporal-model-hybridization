services:
  #talker:
   # build:
    #  context: .
     # dockerfile: Dockerfile
    #image: my/ros:app
    #command: ros2 run demo_nodes_cpp talker
    #networks:
     # - ros-net

  #listener:
   # build:
    #  context: .
     # dockerfile: Dockerfile
   # image: my/ros:app
    #command: ros2 run demo_nodes_py listener
   # networks:
    #  - ros-net
  temporal_execution:
    build:
      context: src/temporal_execution
      dockerfile: Dockerfile  
    image: temporal_execution
    deploy:
      resources:
        limits:
          cpus: "1"
          memory: 200M
        reservations:
          cpus: "1"
          memory: 200M
  
  loop:
    build:
      context: src/loop
      dockerfile: Dockerfile  
    image: loop
    deploy:
      resources:
        limits:
          cpus: "1"
          memory: 200M
        reservations:
          cpus: "1"
          memory: 200M

networks:
  ros-net:
    driver: bridge
